# 浮动

> 通过浮动可以使一个元素向其父元素的左侧或右侧移动

:::tip 使用 `float`属性来设置元素的浮动
- `none`: 默认值，元素不浮动
- `left`: 元素向左浮动
- `right`: 元素向右浮动
:::

:::caution 注意
- 元素设置浮动后，水平布局的等式便不需要强制成立
- 元素设置浮动以后，会完全从文档流中脱离，不在占用文档流的位置，所以元素下边的还在文档流中的元素会自动向上移动
:::

:::info 浮动的特点
1. 浮动元素会完全脱离文档流，不再占据文档流中的位置
2. 设置浮动以后元素会向父元素的左侧或右侧移动
3. 浮动元素默认不会从父元素中溢出
4. `浮动元素向左或向右移动时，不会超过它前面的其他浮动元素`
5. 如果浮动元素的上边是一个没有浮动的块元素，则浮动元素无法上移
6. `浮动元素不会超过它上边的浮动的兄弟元素，最多最多就是和它一样高`
:::

## 浮动的一些特点

- 浮动元素不会盖住文字，文字会自动环绕在浮动元素周围(所以可以利用浮动来设置文字环绕图片效果)

- 元素设置浮动以后，将会从文档流中脱离，从文档流中脱离后，元素的一些特点也会发生变化

:::info `脱离文档流`的特点
- 块元素
  1. 块元素不再独占页面一行
  2. 脱离文档流后，块元素的宽度和高度默认都被内容撑开
- 行内元素
  - 行内元素脱离文档流以后会变成块元素，特点和块元素一样
- 脱离文档流以后，不需要再区别块和行内元素了
:::

## 高度塌陷问题

:::note 高度塌陷的问题
- 在浮动布局中，父元素的高度默认是被子元素撑开的
  - 当子元素浮动后，其会完全脱离文档流，子元素从文档流脱离将会无法撑起父元素的高度，从而导致父元素的高度丢失
- 父元素高度丢失以后，其下的元素会自动上移，导致页面的布局混乱
- 所以高度塌陷是浮动布局中比较常见的一个问题，这个问题必须要进行处理
:::

:::tip 高度塌陷问题的解决方式
通过开启`BFC (Block formatting Context)块级格式化环境`
- BFC 是一个 CSS 中的一个隐含属性，可以为一个元素开启 BFC 模式，开启 BFC 模式的元素会变成一个`独立的布局区域`
- 元素开启 BFC 后的`特点` 1. 开启 BFC 的元素`不会被浮动元素所覆盖` 2. 开启 BFC 的元素`子元素和父元素外边距不会重叠` 3. 开启 BFC 的元素可以包含浮动的子元素
:::

:::info 开启 BFC 的方式
1. 设置元素的浮动: float: xx
2. 将元素设置为行内块元素: display: inline-block
3. `将元素的overflow设置为一个非visible的值: overflow: hidden;`
:::


## clear

清除浮动对当前元素所产生的影响

- left: 清除左侧浮动元素对当前元素的影响
- right: 清除右侧浮动元素对当前元素的影响
- both: 清除`两侧中最大影响的那侧`

> 设置清除浮动后，浏览器自动为元素添加一个上外边距，以使其位置不受其他元素影响

## 高度塌陷的最终解决方案

通过使用 clear 和::after 可以比较好的解决高度塌陷的问题

```html {11-15}
<style>
  .box1 {
    border: 10px solid red;
  }
  .inner {
    height: 200px;
    width: 200px;
    background-color: green;
    float: left;
  }
  .box1::after {
    content: "";
    clear: both;
    display: block;
  }
</style>

<div class="box1">
  <div class="inner"></div>
</div>
```

## `clearfix同时解决高度塌陷和外边距重叠问题`

```html {15-20,24}
<style>
    .box1 {
        height: 300px;
        width: 300px;
        background-color: #fba;
    }

    .box2 {
        height: 100px;
        width: 100px;
        background-color: aqua;
        margin-top: 100px;
    }

    .clearfix::before,
    .clearfix::after {
        content: '';
        display: table;
        clear: both;
    }

</style>

<div class="box1 clearfix">
    <div class="box2">
    </div>
</div>
```