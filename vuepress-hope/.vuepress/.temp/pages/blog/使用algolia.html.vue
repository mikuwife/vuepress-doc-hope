<template><div><div class="custom-container tip"><p class="custom-container-title">å†™åœ¨å‰é¢</p>
<p>æäº¤urlçš„å½¢å¼å¼•å…¥è‡ªæ˜¯ä¸å¿…å¤šè¯´ï¼Œæ‰€ä»¥è¿™æ¬¡é‡‡ç”¨æ‰‹åŠ¨ä½¿ç”¨çˆ¬è™«çš„æ–¹å¼</p>
</div>
<h2 id="æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#æ³¨å†Œ" aria-hidden="true">#</a> æ³¨å†Œ</h2>
<ol>
<li>
<p>é¦–å…ˆéœ€è¦æ³¨å†Œä¸€ä¸ª<a href="https://www.algolia.com/" target="_blank" rel="noopener noreferrer">Algolia<ExternalLinkIcon/></a>è´¦å·</p>
</li>
<li>
<p>è®°å½•ä¸‹ä½ çš„ä¸‰ä¸ªAPI Keysï¼Œåˆ†åˆ«æ˜¯: <strong>Application ID</strong>ï¼Œ<strong>Search Only API Key</strong>ï¼Œ<strong>Admin API Key</strong></p>
</li>
</ol>
<h2 id="æœ¬åœ°è®¾ç½®" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°è®¾ç½®" aria-hidden="true">#</a> æœ¬åœ°è®¾ç½®</h2>
<p>æ’ä»¶çš„å¯¹åº”å­—æ®µå¦‚ä¸‹:</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token string">"Application ID"</span><span class="token punctuation">,</span>
<span class="token literal-property property">appId</span><span class="token operator">:</span> <span class="token string">"Search Only API Key"</span><span class="token punctuation">,</span>
<span class="token literal-property property">indexName</span><span class="token operator">:</span> <span class="token string">"vupress(ä½ è‡ªå·±éšä¾¿å–ä¸€ä¸ª)"</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">æ³¨æ„</p>
<p>è¿™é‡Œç»è¿‡æˆ‘çš„æŸ¥æ‰¾ï¼Œå¦‚æœä½ åœ¨Algoliaä¸­å¹¶æ²¡æœ‰åˆ›å»ºè¿‡ä½ çš„indexï¼Œä¼šä»ä½ æœ¬åœ°é…ç½®çš„indexNameå­—æ®µä¸­ï¼Œé€‰å–è¯¥å­—æ®µç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼Œ<code v-pre>vuepress_tmp</code>(å¯èƒ½æ˜¯ç¼“å­˜)ï¼Œ<code v-pre>vuepress</code>(æœ€ååªä¼šå­˜åœ¨è¿™ä¸€ä¸ªindex)</p>
</div>
<h2 id="ä½¿ç”¨dockerè¿è¡Œçˆ¬è™«" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨dockerè¿è¡Œçˆ¬è™«" aria-hidden="true">#</a> ä½¿ç”¨dockerè¿è¡Œçˆ¬è™«</h2>
<p>åœ¨è¿™ä¸€æ­¥æˆ‘ä½¿ç”¨çš„æ˜¯äº‘æœåŠ¡å™¨</p>
<ol>
<li>é¦–å…ˆä¸‹è½½å¿…è¦è½¯ä»¶</li>
</ol>
<ul>
<li>jq</li>
</ul>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>yum <span class="token function">install</span> -y jq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul>
<li>docker</li>
</ul>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>//å®‰è£…ä¾èµ–
yum -y <span class="token function">install</span> yum-utils device-mapper-persistent-data lvm2
//é…ç½®ä»“åº“é•œåƒ
yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
//å®‰è£…docker
yum -y <span class="token function">install</span> docker-ce
//å¯åŠ¨docker
systemctl start <span class="token function">docker</span>
//dockerè‡ªå¯åŠ¨
systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>åˆ›å»ºä¸€ä¸ªdocsearch(éšä¾¿ä½ç½®ï¼Œéšä¾¿åå­—)æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª<code v-pre>.env</code>æ–‡ä»¶å’Œä¸€ä¸ª<code v-pre>docsearch.json</code>æ–‡ä»¶ï¼Œç¤ºä¾‹å¦‚ä¸‹</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token comment">// .env</span>
<span class="token constant">APPLICATION_ID</span> <span class="token operator">=</span> <span class="token constant">YOUR</span> Application <span class="token constant">ID</span>
<span class="token constant">API_KEY</span> <span class="token operator">=</span> <span class="token constant">YOUR</span> Admin <span class="token constant">API</span> Key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code><span class="token comment">// json ç¤ºä¾‹ æ›´å¤šé…ç½®é¡¹ ğŸ‘‰ https://docsearch.algolia.com/docs/legacy/config-file</span>
<span class="token punctuation">{</span>
  <span class="token property">"index_name"</span><span class="token operator">:</span> <span class="token string">"vuepress(æ¢æˆä½ è‡ªå·±ä¸Šé¢å†™çš„indexName)"</span><span class="token punctuation">,</span>
  <span class="token property">"start_urls"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"your website url"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3">
<li>åœ¨ä½ åˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸‹è¿è¡Œdockerå‘½ä»¤</li>
</ol>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code><span class="token function">docker</span> run -it --env-file<span class="token operator">=</span>.env -e <span class="token string">"CONFIG=<span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> docsearch.json <span class="token operator">|</span> jq -r tostring<span class="token variable">)</span></span>"</span> algolia/docsearch-scraper
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœdockerå‘½ä»¤æ— æ³•è¿è¡Œï¼Œè¯·çœ‹ç¬¬ä¸€æ­¥</p>
<ol start="4">
<li>å›åˆ°ä½ çš„<a href="https://www.algolia.com/dashboard" target="_blank" rel="noopener noreferrer">Algliaæ§åˆ¶å°<ExternalLinkIcon/></a>ï¼Œå¦‚æœå‘ç°å‡ºç°äº†indexï¼Œå¹¶ä¸”Recordså­—æ®µæœ‰å†…å®¹ï¼Œåˆ™å¤§åŠŸå‘Šæˆ</li>
</ol>
</div></template>
